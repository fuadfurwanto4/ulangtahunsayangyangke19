<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ChelseaOS v20.07 ğŸ€</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=VT323&family=Quicksand:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'win-gray': '#c0c0c0',
                        'win-blue': '#000080',
                        'chelsea-pink': '#ffc0cb',
                        'deep-purple': '#4a0e4e',
                    },
                    fontFamily: {
                        'pixel': ['"VT323"', 'monospace'],
                        'body': ['"Quicksand"', 'sans-serif'],
                    }
                }
            }
        }
    </script>
    <style>
        /* Retro Windows Style */
        .win-box { background-color: #c0c0c0; border-top: 2px solid #fff; border-left: 2px solid #fff; border-right: 2px solid #808080; border-bottom: 2px solid #808080; box-shadow: 1px 1px 0 #000; }
        .win-box-inset { background-color: #fff; border-top: 2px solid #808080; border-left: 2px solid #808080; border-right: 2px solid #fff; border-bottom: 2px solid #fff; }
        .win-header { background: linear-gradient(90deg, #ff1493, #ff69b4); color: white; padding: 2px 4px; font-family: 'Quicksand', sans-serif; font-weight: bold; display: flex; align-items: center; justify-content: space-between; }
        .win-btn { background: #c0c0c0; border-top: 1px solid #fff; border-left: 1px solid #fff; border-right: 1px solid #000; border-bottom: 1px solid #000; min-width: 20px; text-align: center; cursor: pointer; font-size: 12px; line-height: 14px; }
        .win-btn:active { border-top: 1px solid #000; border-left: 1px solid #000; border-right: 1px solid #fff; border-bottom: 1px solid #fff; }
        
        /* Desktop Icon */
        .desktop-icon { width: 80px; display: flex; flex-direction: column; align-items: center; text-align: center; cursor: pointer; padding: 5px; border: 1px solid transparent; margin-bottom: 5px; }
        .desktop-icon:hover { border: 1px dotted white; background: rgba(255, 255, 255, 0.2); }
        .desktop-icon img { width: 48px; height: 48px; margin-bottom: 4px; filter: drop-shadow(2px 2px 0 rgba(0,0,0,0.3)); }
        .icon-label { color: white; font-family: 'Quicksand', sans-serif; font-size: 11px; text-shadow: 1px 1px 2px black; background: rgba(0,0,0,0.2); padding: 2px 4px; border-radius: 4px; line-height: 1.2; }

        /* Window Animation - Force Hidden Initially via CSS */
        .window { 
            position: absolute; 
            display: none; /* KUNCI MATI BIAR GAK MUNCUL */
            flex-direction: column; 
            resize: both; 
            overflow: hidden; 
            min-width: 200px; 
            min-height: 150px; 
            animation: popUp 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275); 
        }
        .window.active { 
            display: flex !important; /* Baru muncul kalau dipanggil */
            z-index: 50; 
        }
        @keyframes popUp { from { transform: scale(0); opacity: 0; } to { transform: scale(1); opacity: 1; } }

        /* Boot Screen */
        #boot-screen { font-family: 'VT323', monospace; background: black; color: #00ff00; z-index: 9999; }
        .typing-cursor::after { content: 'â–ˆ'; animation: blink 1s infinite; }
        @keyframes blink { 0%, 100% { opacity: 1; } 50% { opacity: 0; } }

        /* Taskbar */
        #taskbar { background: #c0c0c0; border-top: 2px solid #fff; box-shadow: 0 -2px 2px rgba(0,0,0,0.1); }
        
        /* CRT Effect */
        .scanlines { background: linear-gradient( to bottom, rgba(255,255,255,0), rgba(255,255,255,0) 50%, rgba(0,0,0,0.1) 50%, rgba(0,0,0,0.1) ); background-size: 100% 4px; position: fixed; top: 0; left: 0; right: 0; bottom: 0; pointer-events: none; z-index: 9998; opacity: 0.3; }
        
        /* Candle Game Styles */
        .cake-container { position: relative; width: 250px; height: 150px; background: #ffc0cb; border-radius: 10px 10px 0 0; display: flex; justify-content: space-around; align-items: flex-end; padding-bottom: 20px; border-bottom: 10px solid #d45d79; }
        .candle { width: 15px; height: 60px; background: repeating-linear-gradient(45deg, #fff, #fff 5px, #ff69b4 5px, #ff69b4 10px); position: relative; border-radius: 3px; }
        .flame { width: 20px; height: 30px; background: radial-gradient(ellipse at bottom, #ffee00, #ff9900, #ff0000); border-radius: 50% 50% 20% 20%; position: absolute; top: -35px; left: 50%; transform: translateX(-50%); animation: flicker 0.5s infinite alternate; cursor: pointer; box-shadow: 0 0 10px #ff9900; transition: opacity 0.3s; }
        .flame.off { opacity: 0; animation: none; }
        .smoke { position: absolute; top: -40px; left: 50%; width: 10px; height: 20px; background: rgba(200,200,200,0.5); border-radius: 50%; filter: blur(3px); opacity: 0; transform: translateX(-50%); }
        .smoke.active { animation: smokeRise 1s forwards; }
        @keyframes flicker { 0% { transform: translateX(-50%) scale(1); opacity: 1; } 100% { transform: translateX(-50%) scale(1.1); opacity: 0.8; } }
        @keyframes smokeRise { 0% { opacity: 0.8; top: -35px; } 100% { opacity: 0; top: -80px; transform: translateX(-50%) scale(2); } }

        /* Scrollbar custom */
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: #f1f1f1; }
        ::-webkit-scrollbar-thumb { background: #888; }
        ::-webkit-scrollbar-thumb:hover { background: #555; }
        
        @media (max-width: 640px) { .window { width: 90% !important; left: 5% !important; top: 5% !important; max-height: 80vh; } }
    </style>
</head>
<body class="overflow-hidden bg-[#008080] h-screen select-none">
    
    <!-- GANTI LAGU DI SINI -->
    <audio id="bg-music" loop>
        <source src="https://audio.jukehost.co.uk/vdoQtXrOwDkIV71BKmp7Cqxo6brez5HF" type="audio/mpeg">
    </audio>

    <div class="scanlines"></div>

    <!-- 1. BOOT SCREEN -->
    <div id="boot-screen" class="fixed inset-0 flex flex-col justify-center items-center p-8 text-xl leading-relaxed cursor-pointer" onclick="bootSystem()">
        <div class="max-w-2xl w-full">
            <p class="mb-2">BIOS Date 01/24/26 11:04:00 Ver: 20.07</p>
            <p class="mb-2">CPU: Love Core i9-9999K @ 5.0GHz</p>
            <p class="mb-4">Memory Test: 1048576K OK</p>
            <div id="boot-text" class="text-white space-y-1"></div>
            <div id="click-prompt" class="mt-8 text-center hidden animate-pulse text-yellow-400">
                [ KLIK LAYAR UNTUK MASUK KE SYSTEM ]
            </div>
        </div>
    </div>

    <!-- 2. LOGIN SCREEN -->
    <div id="login-screen" class="fixed inset-0 bg-[#000080] hidden z-[60] flex flex-col justify-center items-center">
        <div class="win-box p-1 bg-[#c0c0c0] rounded-sm">
            <div class="win-header mb-4 bg-gradient-to-r from-blue-800 to-blue-600">
                <span>Welcome to ChelseaOS</span>
            </div>
            <div class="flex gap-6 p-6 items-center">
                <div class="w-24 h-24 bg-white border-2 border-gray-500 p-1">
                    <!-- FOTO PROFIL (GANTI DISINI) -->
                    <img src="https://i.pinimg.com/564x/c9/22/68/c92268d92cf2dbf96e3195683d9d3af9.jpg" class="w-full h-full object-cover">
                </div>
                <div class="flex flex-col gap-3">
                    <h2 class="text-xl font-bold font-body">Chealsea R.C.</h2>
                    <p class="text-sm text-gray-600">Type your password to log on</p>
                    <div class="flex flex-col gap-2">
                        <!-- Input Password Baru -->
                        <input type="password" id="login-pass" placeholder="Masukan password disini" class="win-box-inset px-2 py-1 w-64 bg-white focus:outline-none font-body text-sm">
                        <button onclick="checkLogin()" class="win-btn px-4 py-1 font-bold active:translate-y-px bg-green-200 self-start">â¡ï¸ MASUK</button>
                    </div>
                    <p id="login-error" class="text-red-500 text-xs font-bold hidden bg-white px-1 mt-1">Password Salah! Coba lagi sayang :p</p>
                </div>
            </div>
        </div>
    </div>

    <!-- 3. DESKTOP ENVIRONMENT -->
    <!-- GANTI WALLPAPER DI SINI (Dalam URL) -->
    <main id="desktop" 
          class="relative w-full h-full hidden bg-cover bg-center"
          style="background-image: url('https://i.pinimg.com/originals/91/92/2e/91922e37905f0d57d77b814a0f44358a.gif');">
        
        <!-- Desktop Icons -->
        <div class="absolute top-4 left-4 grid grid-cols-2 gap-x-4 gap-y-2 w-[180px]">
            <div class="desktop-icon" onclick="openWindow('win-letter')"><img src="https://cdn-icons-png.flaticon.com/512/3033/3033143.png"><span class="icon-label">SuratCinta.txt</span></div>
            <div class="desktop-icon" onclick="openWindow('win-gallery')"><img src="https://cdn-icons-png.flaticon.com/512/3342/3342137.png"><span class="icon-label">FotoKita_HD</span></div>
            <div class="desktop-icon" onclick="openWindow('win-music')"><img src="https://cdn-icons-png.flaticon.com/512/3039/3039437.png"><span class="icon-label">Playlist.mp3</span></div>
            <div class="desktop-icon" onclick="openWindow('win-cake')"><img src="https://cdn-icons-png.flaticon.com/512/3362/3362720.png"><span class="icon-label">KueUltah.exe</span></div>
            <div class="desktop-icon" onclick="openWindow('win-diary')"><img src="https://cdn-icons-png.flaticon.com/512/2904/2904859.png"><span class="icon-label">MyDiary.exe</span></div>
            <div class="desktop-icon" onclick="openWindow('win-msg-mamas')"><img src="https://cdn-icons-png.flaticon.com/512/2165/2165061.png"><span class="icon-label">ToMamas.exe</span></div>
            <div class="desktop-icon" onclick="openWindow('win-game')"><img src="https://cdn-icons-png.flaticon.com/512/808/808476.png"><span class="icon-label">MagicCandle.exe</span></div>
            <div class="desktop-icon" onclick="openWindow('win-video')"><img src="https://cdn-icons-png.flaticon.com/512/2859/2859706.png"><span class="icon-label">Cinema.mp4</span></div>
            <div class="desktop-icon" onclick="openWindow('win-calc')"><img src="https://cdn-icons-png.flaticon.com/512/564/564429.png"><span class="icon-label">HitungCinta</span></div>
            <div class="desktop-icon" onclick="openWindow('win-error')"><img src="https://cdn-icons-png.flaticon.com/512/3342/3342176.png"><span class="icon-label">Mantan</span></div>
        </div>

        <!-- === WINDOWS (SEMUA PAKAI STYLE DISPLAY NONE) === -->

        <!-- 1. Window Surat -->
        <div id="win-letter" class="window win-box w-[500px] h-[400px] top-10 left-[220px] z-40" style="display: none;">
            <div class="win-header cursor-move" onmousedown="dragStart(event, 'win-letter')">
                <span>ğŸ“ SuratCinta.txt - Notepad</span>
                <div class="flex gap-1"><button class="win-btn px-2" onclick="closeWindow('win-letter')">X</button></div>
            </div>
            <div class="flex-1 win-box-inset m-1 p-4 overflow-y-auto font-pixel text-lg bg-white leading-6">
                <!-- ISI SURAT -->
                <p>Halo sayang!!!!! ğŸ˜‡ğŸ˜‡</p>
                <p>bagaimana bisa masuk kan??????? ğŸ˜ğŸ˜ğŸ˜</p>
                <br>
                <p>alhamdulillah ..</p>
                <p>Lihat lihat!!!!! ada yang berumur 19 tahun sekarang !!!!ğŸ¤©ğŸ¤©ğŸ¤©</p>
                <p>Pertama-tama mas cuma mau ucapin selamat ulang tahun yang ke-19 tahun ya sayang ğŸ‰ğŸ‚ğŸ€ğŸ’—ğŸ¥³</p>
                <p>semoga Panjang umur, di sehatkan badannya, di mudahkan segala urusannya, dan apa apa yang di cita-citakan tercapai semua ya cantik .. ğŸ¤²ğŸ¤² aamiin ...</p>
                <br>
                <p class="text-xl text-chelsea-pink font-body">ğ»ğ’¶ğ“…ğ“…ğ“ ğ’·ğ’¾ğ“‡ğ“‰ğ’½ğ’¹ğ’¶ğ“</p>
                <br>
                <p>Di tanggal 23 Februari 2007 lahir lah seorang bayi perempuan bernama CHEALSEA REGITA CAHYANI ğŸ‘¶ğŸ»</p>
                <p>Bayi ini sangat sangat kuat! yang dimana dari lahir saja sudah di bawa perjalanan jauh sebelum lahir. Bayangkan dari Depok ke Sukabumi naik motor untuk melahirkan wanita yang sangat kuat hingga sekarang!!! WOWWW ğŸ¤¯ğŸ¤¯</p>
                <p>Dan lihat! sekarang anak ini menjadi tumbuh menjadi anak dewasa yang kuat, yang rajin, yang sholehah, yang cantik ..</p>
                <p>ğŸ€ğŸ«¶ğŸ»ğŸ’ŒğŸ’“</p>
                <br>
                <p>Betulan deh .. betapa senangnya mamas bisa bertemu sayang mamas, bisa temani sayang sampai ulang tahun ini!!</p>
                <p>pokoknya sayang harus sehat jasmani dan rohaninya, sayang harus menjadi anak yang lebih kuat lagi ya, menjadi anak yang lebih dewasa lagi, lebih berbakti lagi kepada orang tua sayang .. aamiin.. </p>
                <br>
                <p>intiya mamas hanya bisa mendoakan dan mensuport sayang, lakuin apa yang sayang ingin lakuin kedepannya ya .. selama itu baik untuk diri sayang dan tidak merugikan orang lain .. lakuin ya sayang, tidak boleh takut, tidak boleh ragu, insyallah mamas pasti akan selalu di sini menemani sayang mamas!!1</p>
                <br>
                <p>sayanggg ... </p>
                <p>maaf yaa mamas belum bisa kasih apaa apaa, mamas hanya bisa memberikan doa yang terbaik untuk sayang .. terimakasih juga sudah bertahan hingga sekarang ya cantik. sayang hebat, sayang luar biasa, sayang tangguh. Mamas salut dengan sayang!!!!</p>
                <br>
                <p>I LOVEE YOUUU SO MUCHHH SAYANG MAMASSSSS .. sehat sehat terus ya cantik</p>
                <p>ğŸ«¶ğŸ»ğŸ¥¹â¤ï¸â€ğŸ©¹</p>
            </div>
        </div>

        <!-- NEW: Window Diary (Rahasia) -->
        <div id="win-diary" class="window win-box w-[400px] h-[350px] top-20 left-[250px] z-40" style="display: none;">
            <div class="win-header cursor-move" onmousedown="dragStart(event, 'win-diary')">
                <span>ğŸ“” Diary Rahasia (Private)</span>
                <button class="win-btn px-2 bg-red-400 text-white" onclick="closeWindow('win-diary')">X</button>
            </div>
            <div class="flex-1 p-2 bg-[#f0f0f0] flex flex-col">
                <p class="text-sm mb-2 font-bold text-gray-600">Harapan untuk Diri Sendiri:</p>
                <textarea id="diary-input" class="flex-1 w-full p-2 border-2 border-gray-400 font-body text-sm resize-none focus:outline-none" placeholder="Tulis harapan kamu di sini..."></textarea>
                <div class="mt-2 flex justify-between items-center">
                    <button onclick="saveDiary()" class="win-btn px-3 py-1 bg-blue-200 font-bold">ğŸ’¾ SIMPAN</button>
                    <span class="text-xs text-gray-500 italic">*Mamas tidak akan tahu isinya :)</span>
                </div>
            </div>
        </div>

        <!-- NEW: Window Pesan ke Mamas (KEMBALI KE WA) -->
        <div id="win-msg-mamas" class="window win-box w-[400px] h-[300px] top-32 left-[280px] z-40" style="display: none;">
            <div class="win-header cursor-move" onmousedown="dragStart(event, 'win-msg-mamas')">
                <span>ğŸ’Œ Pesan Untuk Mamas</span>
                <button class="win-btn px-2 bg-red-400 text-white" onclick="closeWindow('win-msg-mamas')">X</button>
            </div>
            <div class="flex-1 p-2 bg-[#f0f0f0] flex flex-col">
                <p class="text-sm mb-2 font-bold text-gray-600">Tulis pesan buat Mas Fuad:</p>
                <textarea id="wa-input" class="flex-1 w-full p-2 border-2 border-gray-400 font-body text-sm resize-none focus:outline-none" placeholder="Mas Fuad, aku mau bilang..."></textarea>
                <div class="mt-2 flex justify-between items-center">
                    <button onclick="sendToWA()" class="win-btn px-3 py-1 bg-green-200 font-bold text-green-900">
                        <i class="fab fa-whatsapp"></i> KIRIM KE WA
                    </button>
                    <span class="text-xs text-gray-500 italic">*Pesan ini akan dikirim ke Mamas</span>
                </div>
            </div>
        </div>

        <!-- NEW: Window Game LILIN -->
        <div id="win-game" class="window win-box w-[450px] h-[450px] top-10 right-10 z-40" style="display: none;">
            <div class="win-header cursor-move" onmousedown="dragStart(event, 'win-game')">
                <span>ğŸ•¯ï¸ Magic Candle Game</span>
                <button class="win-btn px-2 bg-red-400 text-white" onclick="closeWindow('win-game')">X</button>
            </div>
            <div class="flex-1 bg-black relative flex flex-col items-center justify-center p-4" id="game-area">
                <div id="mic-control" class="absolute top-2 left-2 right-2 flex justify-between z-20">
                    <button onclick="enableMic()" class="bg-gray-800 text-white text-xs px-2 py-1 border border-gray-600 rounded hover:bg-gray-700">ğŸ¤ Aktifkan Mic (Tiup)</button>
                    <div class="text-white text-xs">Skor: <span id="candle-score">0</span></div>
                </div>
                <div class="cake-container mt-10">
                    <div class="candle" id="c1"><div class="flame" onclick="blowCandle(1)"></div><div class="smoke"></div></div>
                    <div class="candle" id="c2"><div class="flame" onclick="blowCandle(2)"></div><div class="smoke"></div></div>
                    <div class="candle" id="c3"><div class="flame" onclick="blowCandle(3)"></div><div class="smoke"></div></div>
                    <div class="candle" id="c4"><div class="flame" onclick="blowCandle(4)"></div><div class="smoke"></div></div>
                    <div class="candle" id="c5"><div class="flame" onclick="blowCandle(5)"></div><div class="smoke"></div></div>
                </div>
                <div class="mt-8 text-white text-center font-pixel text-lg z-10">
                    <p id="game-instruction">Tiup microphone atau Klik api untuk mematikan!</p>
                    <p class="text-xs text-gray-400 mt-1">(Awas lilinnya jail, bisa nyala lagi! ğŸ˜œ)</p>
                </div>
                <button id="reset-candle-btn" onclick="resetCandles()" class="hidden mt-4 bg-yellow-400 text-black px-4 py-2 font-bold rounded animate-bounce">Main Lagi? ğŸ‚</button>
            </div>
        </div>

        <!-- NEW: Window Video -->
        <div id="win-video" class="window win-box w-[500px] flex flex-col top-[15%] left-[20%] z-40" style="display: none;">
             <div class="win-header cursor-move" onmousedown="dragStart(event, 'win-video')">
                <span>ğŸ¬ Cinema - Video Kita</span>
                <button class="win-btn px-2 bg-red-400 text-white" onclick="closeWindow('win-video')">X</button>
            </div>
            <div class="bg-black p-1 flex items-center justify-center">
                <!-- GANTI FILE VIDEO DI SINI! -->
                <video class="w-full h-[280px]" controls>
                    <source src="video_kita.mp4" type="video/mp4">
                    Browser kamu tidak support video ini.
                </video>
            </div>
        </div>

        <!-- Window Gallery -->
        <div id="win-gallery" class="window win-box w-[500px] top-20 left-40 flex flex-col z-40" style="display: none;">
            <div class="win-header cursor-move" onmousedown="dragStart(event, 'win-gallery')">
                <span>ğŸ“¸ Folder: Memories</span>
                <button class="win-btn px-2 bg-red-400 text-white" onclick="closeWindow('win-gallery')">X</button>
            </div>
            <div class="flex-1 bg-white m-1 p-2 grid grid-cols-2 gap-2 overflow-y-auto max-h-[400px]">
                
                <!-- PHOTO ITEM 1 -->
                <div class="win-box p-2 bg-gray-100 text-center cursor-pointer hover:bg-blue-100 transition" 
                     onclick="openPhoto('https://i.pinimg.com/564x/2a/3a/0a/2a3a0a3d463868270525287515d4872c.jpg', 'Ini foto kamu pas masih kecil. Lucu banget sih, pipinya tumpah-tumpah! Gemes maksimal! ğŸ¥°')">
                    <img src="https://i.pinimg.com/564x/2a/3a/0a/2a3a0a3d463868270525287515d4872c.jpg" class="w-full h-40 object-cover border-2 border-gray-300 pointer-events-none">
                    <p class="font-pixel mt-1">Little_Angel.jpg</p>
                </div>
                
                <!-- PHOTO ITEM 2 -->
                <div class="win-box p-2 bg-gray-100 text-center cursor-pointer hover:bg-blue-100 transition" 
                     onclick="openPhoto('https://i.pinimg.com/564x/4a/01/f9/4a01f9d51025595958742884a4448261.jpg', 'Kalo ini foto pas kita jalan-jalan berdua. Inget gak? Waktu itu kamu senyum manis banget sampai aku lupa segalanya. â¤ï¸')">
                    <img src="https://i.pinimg.com/564x/4a/01/f9/4a01f9d51025595958742884a4448261.jpg" class="w-full h-40 object-cover border-2 border-gray-300 pointer-events-none">
                    <p class="font-pixel mt-1">Us_Moment.jpg</p>
                </div>

                <!-- PHOTO ITEM 3 -->
                <div class="win-box p-2 bg-gray-100 text-center cursor-pointer hover:bg-blue-100 transition" 
                     onclick="openPhoto('https://i.pinimg.com/564x/7e/e4/24/7ee4241e73f4e389e78297054f056f71.jpg', 'Masih inget gak ini dimana? Kita bener-bener ketawa lepas banget di sini.')">
                    <img src="https://i.pinimg.com/564x/7e/e4/24/7ee4241e73f4e389e78297054f056f71.jpg" class="w-full h-40 object-cover border-2 border-gray-300 pointer-events-none">
                    <p class="font-pixel mt-1">Happy.jpg</p>
                </div>

                <!-- PHOTO ITEM 4 -->
                <div class="win-box p-2 bg-gray-100 text-center cursor-pointer hover:bg-blue-100 transition" 
                     onclick="openPhoto('https://i.pinimg.com/564x/a4/0c/36/a40c36b6d5106173730e2007887756f7.jpg', 'Foto ini spesial banget buat aku. Kamu keliatan cantik banget di sini sayang.')">
                    <img src="https://i.pinimg.com/564x/a4/0c/36/a40c36b6d5106173730e2007887756f7.jpg" class="w-full h-40 object-cover border-2 border-gray-300 pointer-events-none">
                    <p class="font-pixel mt-1">Beautiful.jpg</p>
                </div>

                <!-- PHOTO ITEM 5 -->
                <div class="win-box p-2 bg-gray-100 text-center cursor-pointer hover:bg-blue-100 transition" 
                     onclick="openPhoto('https://i.pinimg.com/564x/c9/22/68/c92268d92cf2dbf96e3195683d9d3af9.jpg', 'Setiap liat foto ini aku jadi kangen kamu. Cepet ketemu yuk!')">
                    <img src="https://i.pinimg.com/564x/c9/22/68/c92268d92cf2dbf96e3195683d9d3af9.jpg" class="w-full h-40 object-cover border-2 border-gray-300 pointer-events-none">
                    <p class="font-pixel mt-1">Miss_U.jpg</p>
                </div>

                <!-- PHOTO ITEM 6 -->
                <div class="win-box p-2 bg-gray-100 text-center cursor-pointer hover:bg-blue-100 transition" 
                     onclick="openPhoto('https://i.pinimg.com/564x/d8/9f/fa/d89ffa36070a72097e3a95610815e347.jpg', 'Foto masa kecil kamu lagi. Gemes banget sih kamu, pengen nyubit pipinya!')">
                    <img src="https://i.pinimg.com/564x/d8/9f/fa/d89ffa36070a72097e3a95610815e347.jpg" class="w-full h-40 object-cover border-2 border-gray-300 pointer-events-none">
                    <p class="font-pixel mt-1">Baby_C.jpg</p>
                </div>

                <!-- PHOTO ITEM 7 -->
                <div class="win-box p-2 bg-gray-100 text-center cursor-pointer hover:bg-blue-100 transition" 
                     onclick="openPhoto('https://i.pinimg.com/564x/bd/6d/2c/bd6d2cb134608c02c6596950486c8724.jpg', 'Gak kerasa ya waktu cepet banget berlalu. Kamu udah tumbuh jadi wanita hebat sekarang.')">
                    <img src="https://i.pinimg.com/564x/bd/6d/2c/bd6d2cb134608c02c6596950486c8724.jpg" class="w-full h-40 object-cover border-2 border-gray-300 pointer-events-none">
                    <p class="font-pixel mt-1">Grow.jpg</p>
                </div>

                <!-- PHOTO ITEM 8 -->
                <div class="win-box p-2 bg-gray-100 text-center cursor-pointer hover:bg-blue-100 transition" 
                     onclick="openPhoto('https://i.pinimg.com/564x/4a/01/f9/4a01f9d51025595958742884a4448261.jpg', 'Apapun yang terjadi, aku bakal selalu ada buat kamu. Love you, Chelsea.')">
                    <img src="https://i.pinimg.com/564x/4a/01/f9/4a01f9d51025595958742884a4448261.jpg" class="w-full h-40 object-cover border-2 border-gray-300 pointer-events-none">
                    <p class="font-pixel mt-1">Forever.jpg</p>
                </div>
            </div>
            <div class="p-1 text-xs font-body text-gray-600 bg-[#c0c0c0] border-t border-gray-400">Klik foto untuk melihat detail</div>
        </div>

        <!-- NEW: Window Image Viewer (Popup Penjelasan) - DEFAULT TERTUTUP -->
        <div id="win-image-viewer" class="window win-box w-[500px] top-10 left-10 flex flex-col z-[70]" style="display: none;">
            <div class="win-header cursor-move" onmousedown="dragStart(event, 'win-image-viewer')">
                <span>ğŸ–¼ï¸ Image Viewer</span>
                <button class="win-btn px-2 bg-red-400 text-white" onclick="closeWindow('win-image-viewer')">X</button>
            </div>
            <div class="flex-1 bg-white m-1 p-2 flex flex-col items-center overflow-y-auto max-h-[500px]">
                <img id="viewer-img" src="" class="w-full max-h-[300px] object-contain mb-4 border-2 border-gray-300 bg-black">
                <div class="w-full bg-pink-50 p-4 rounded border border-pink-200">
                    <p class="font-bold text-deep-purple mb-1 text-xs">Mas Fuad says:</p>
                    <p id="viewer-caption" class="font-body text-gray-700 italic text-sm leading-relaxed"></p>
                </div>
            </div>
        </div>

        <!-- Window Music - DEFAULT TERTUTUP (Nanti dibuka JS) -->
        <div id="win-music" class="window win-box w-[300px] top-[40%] right-[5%] flex flex-col z-40" style="display: none;">
            <div class="win-header cursor-move" onmousedown="dragStart(event, 'win-music')">
                <span>ğŸµ WinAmp</span>
                <button class="win-btn px-2 bg-red-400 text-white" onclick="closeWindow('win-music')">X</button>
            </div>
            <div class="bg-black p-4 m-1 win-box-inset">
                <div class="text-[#00ff00] font-pixel text-xl mb-2 marquee">
                    <marquee>NOW PLAYING: Happy Birthday to Chelsea - Special Mix.mp3</marquee>
                </div>
                <div class="flex justify-center gap-2 mt-2">
                    <button onclick="document.getElementById('bg-music').play()" class="win-btn px-3 py-1 font-bold">â–¶ PLAY</button>
                    <button onclick="document.getElementById('bg-music').pause()" class="win-btn px-3 py-1 font-bold">â¸ PAUSE</button>
                </div>
            </div>
        </div>

        <!-- Window Cake - DEFAULT TERTUTUP (Nanti dibuka JS) -->
        <div id="win-cake" class="window win-box w-[350px] top-[15%] left-[30%] flex flex-col items-center z-40" style="display: none;">
            <div class="win-header w-full cursor-move" onmousedown="dragStart(event, 'win-cake')">
                <span>ğŸ‚ Make a Wish!</span>
                <button class="win-btn px-2 bg-red-400 text-white" onclick="closeWindow('win-cake')">X</button>
            </div>
            <div class="p-6 bg-pink-100 w-full text-center m-1 win-box-inset relative overflow-hidden">
                <h3 class="font-bold text-deep-purple mb-4">Tiup Lilinnya Sayang! (Klik Kuenya)</h3>
                <div class="cursor-pointer transition transform hover:scale-105" onclick="blowCandle(0)">
                    <div class="text-6xl mb-2">ğŸ‚</div>
                </div>
                <p id="wish-text" class="mt-4 text-sm font-body text-gray-600 italic hidden">"Semoga panjang umur & sehat selalu!" ğŸ‰</p>
            </div>
        </div>
        
        <!-- Window Calculator - DEFAULT TERTUTUP -->
        <div id="win-calc" class="window win-box w-[300px] top-[40%] right-[20%] flex flex-col z-40" style="display: none;">
             <div class="win-header cursor-move" onmousedown="dragStart(event, 'win-calc')">
                <span>ğŸ§® Love Calculator</span>
                <button class="win-btn px-2 bg-red-400 text-white" onclick="closeWindow('win-calc')">X</button>
            </div>
             <div class="p-4 bg-white m-1 win-box-inset font-pixel text-lg">
                <p>Chelsea's Age:</p>
                <p id="age-calc" class="text-blue-600 font-bold mb-2">Calculating...</p>
                <hr class="border-gray-400 my-2">
                <p>Days since born:</p>
                <p id="days-calc" class="text-pink-600 font-bold">Calculating...</p>
             </div>
        </div>

        <!-- Window Error (Mantan) - DEFAULT TERTUTUP -->
        <div id="win-error" class="window win-box w-[300px] flex flex-col top-[40%] left-[40%] z-[999]" style="display: none;">
            <div class="win-header cursor-move" onmousedown="dragStart(event, 'win-error')">
                <span>âš ï¸ Error</span>
                <button class="win-btn px-2 bg-red-400 text-white" onclick="closeWindow('win-error')">X</button>
            </div>
            <div class="p-4 bg-[#c0c0c0] flex items-center gap-4">
                <img src="https://cdn-icons-png.flaticon.com/512/1828/1828843.png" class="w-10 h-10">
                <div>
                    <p class="font-body text-sm font-bold mb-2">Access Denied!</p>
                    <p class="font-body text-xs">Mas Fuad tidak mengizinkan kenangan buruk disimpan di sini. ğŸ˜œ</p>
                </div>
            </div>
            <div class="p-2 flex justify-center bg-[#c0c0c0]">
                <button class="win-btn px-4 py-1 font-bold" onclick="closeWindow('win-error')">OK</button>
            </div>
        </div>

        <!-- TASKBAR -->
        <div id="taskbar" class="absolute bottom-0 w-full h-10 flex items-center px-2 gap-2 z-[100]">
            <button class="win-btn px-2 py-1 flex items-center gap-2 font-bold text-lg start-btn bg-[#c0c0c0]" onclick="toggleStartMenu()">
                <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/e/e2/Windows_logo_and_wordmark_-_1995-2001.svg/1200px-Windows_logo_and_wordmark_-_1995-2001.svg.png" class="h-4">
                Start
            </button>
            <div class="border-l-2 border-gray-400 h-6 mx-1"></div>
            <div class="ml-auto win-box-inset px-3 py-1 bg-[#c0c0c0] text-xs font-pixel flex items-center gap-2">
                <i class="fas fa-volume-up"></i>
                <span id="clock">12:00 PM</span>
            </div>
        </div>

    </main>

    <!-- JS Logic -->
    <script>
        // === BOOT & LOGIN ===
        const bootText = [
            "Initializing Chelsea's Heart...",
            "Loading Memories... [OK]",
            "Checking Cuteness Level... [OVERLOAD]",
            "Starting ChelseaOS...",
            "System Ready."
        ];
        let lineIndex = 0;
        
        function typeBoot() {
            if (lineIndex < bootText.length) {
                const p = document.createElement('p');
                p.textContent = "> " + bootText[lineIndex];
                p.className = "typing-cursor mb-1";
                document.getElementById('boot-text').appendChild(p);
                if (lineIndex > 0) document.getElementById('boot-text').children[lineIndex-1].classList.remove('typing-cursor');
                lineIndex++;
                setTimeout(typeBoot, 800);
            } else {
                document.getElementById('click-prompt').classList.remove('hidden');
                document.getElementById('boot-text').lastChild.classList.remove('typing-cursor');
            }
        }
        window.onload = typeBoot;

        function bootSystem() {
            if (lineIndex >= bootText.length) {
                var elem = document.documentElement;
                if (elem.requestFullscreen) {
                    elem.requestFullscreen().catch(e=>console.log(e));
                } else if (elem.webkitRequestFullscreen) {
                    elem.webkitRequestFullscreen();
                } else if (elem.msRequestFullscreen) {
                    elem.msRequestFullscreen();
                }

                document.getElementById('boot-screen').style.display = 'none';
                document.getElementById('login-screen').classList.remove('hidden');
                document.getElementById('login-screen').classList.add('flex');
            }
        }

        // Logic check password
        function checkLogin() {
            const pass = document.getElementById('login-pass').value.toLowerCase().trim();
            // Password
            if(pass === "cece cantik") { 
                login();
            } else {
                const err = document.getElementById('login-error');
                err.classList.remove('hidden');
                setTimeout(() => err.classList.add('hidden'), 2000);
            }
        }

        document.getElementById('login-pass').addEventListener('keypress', function (e) {
            if (e.key === 'Enter') {
                checkLogin();
            }
        });

        function login() {
            document.getElementById('login-screen').classList.add('hidden');
            document.getElementById('desktop').classList.remove('hidden');
            document.getElementById('desktop').classList.add('block');
            
            // HANYA INI YANG JALAN OTOMATIS
            setTimeout(() => openWindow('win-music'), 500);  // Playlist
            setTimeout(() => openWindow('win-cake'), 1000);  // Kue
            
            try { document.getElementById('bg-music').play(); } catch(e) {}
            setInterval(updateClock, 1000);
            calculateAge();
            loadDiary();
        }

        // === WINDOW SYSTEM ===
        let zIndex = 50;
        function openWindow(id) {
            const win = document.getElementById(id);
            // KITA PAKSA MUNCUL MENGGUNAKAN STYLE PROPERTY
            win.style.display = 'flex'; 
            win.style.setProperty('display', 'flex', 'important');
            win.classList.add('active');
            bringToFront(id);
        }
        
        function closeWindow(id) { 
            const win = document.getElementById(id);
            win.style.display = 'none';
            win.style.setProperty('display', 'none', 'important');
            win.classList.remove('active');
        }
        
        function bringToFront(id) { document.getElementById(id).style.zIndex = ++zIndex; }

        let isDragging = false, currentWindow = null;
        let initialX, initialY, currentX, currentY, xOffset = 0, yOffset = 0;

        function dragStart(e, id) {
            const win = document.getElementById(id);
            currentWindow = win;
            const rect = win.getBoundingClientRect();
            initialX = e.clientX - rect.left;
            initialY = e.clientY - rect.top;
            isDragging = true;
            bringToFront(id);
        }

        document.addEventListener('mousemove', (e) => {
            if (isDragging && currentWindow) {
                e.preventDefault();
                currentWindow.style.left = (e.clientX - initialX) + "px";
                currentWindow.style.top = (e.clientY - initialY) + "px";
                currentWindow.style.transform = "none"; 
            }
        });

        document.addEventListener('mouseup', () => { isDragging = false; currentWindow = null; });
        document.querySelectorAll('.window').forEach(win => win.addEventListener('mousedown', () => bringToFront(win.id)));

        // === PHOTO VIEWER LOGIC ===
        function openPhoto(imageSrc, captionText) {
            const viewer = document.getElementById('win-image-viewer');
            const imgEl = document.getElementById('viewer-img');
            const captionEl = document.getElementById('viewer-caption');
            imgEl.src = imageSrc;
            captionEl.innerText = captionText;
            openWindow('win-image-viewer');
        }

        // === APP LOGIC ===
        function updateClock() {
            document.getElementById('clock').innerText = new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
        }

        function calculateAge() {
            const birth = new Date('2007-02-23');
            const now = new Date();
            let age = now.getFullYear() - birth.getFullYear();
            const m = now.getMonth() - birth.getMonth();
            if (m < 0 || (m === 0 && now.getDate() < birth.getDate())) age--;
            const diffDays = Math.ceil(Math.abs(now - birth) / (1000 * 60 * 60 * 24)); 
            document.getElementById('age-calc').innerText = `${age} Years Old`;
            document.getElementById('days-calc').innerText = `${diffDays} Days`;
        }

        function blowCandleGeneric() {
            document.getElementById('wish-text').classList.remove('hidden');
            confetti({ particleCount: 100, spread: 70, origin: { y: 0.6 } });
        }

        function saveDiary() {
            const text = document.getElementById('diary-input').value;
            localStorage.setItem('chelsea_diary', text);
            alert("Harapan kamu sudah tersimpan aman di hati (dan browser ini)! â¤ï¸");
        }
        function loadDiary() {
            const saved = localStorage.getItem('chelsea_diary');
            if(saved) document.getElementById('diary-input').value = saved;
        }

        function sendToWA() {
            const text = document.getElementById('wa-input').value;
            if(!text) { alert("Tulis dulu dong pesannya! ğŸ˜œ"); return; }
            const encodedText = encodeURIComponent(text);
            const myNumber = "6281234567890"; // GANTI NOMOR WA KAMU DI SINI
            window.open(`https://wa.me/${myNumber}?text=${encodedText}`, '_blank');
        }

        // === 6. MAGIC CANDLE GAME LOGIC ===
        const candles = [
            { id: 1, reignites: 2, isOff: false },
            { id: 2, reignites: 1, isOff: false },
            { id: 3, reignites: 3, isOff: false },
            { id: 4, reignites: 0, isOff: false },
            { id: 5, reignites: 1, isOff: false }
        ];
        
        function blowCandle(id) {
            if (id === 0) { blowCandleGeneric(); return; }
            const candleObj = candles[id-1];
            if(candleObj.isOff) return;
            const el = document.getElementById('c'+id);
            const flame = el.querySelector('.flame');
            const smoke = el.querySelector('.smoke');
            flame.classList.add('off');
            smoke.classList.add('active');
            if (candleObj.reignites > 0) {
                setTimeout(() => {
                    flame.classList.remove('off');
                    smoke.classList.remove('active');
                    candleObj.reignites--;
                }, Math.random() * 1000 + 800);
            } else {
                candleObj.isOff = true;
                checkAllCandles();
            }
        }

        function checkAllCandles() {
            if (candles.every(c => c.isOff)) {
                confetti({ particleCount: 200, spread: 100, origin: { y: 0.6 } });
                document.getElementById('game-instruction').innerHTML = "SELAMAT ULANG TAHUN SAYANG! <br>Semoga keinginanmu terkabul! â¤ï¸";
                document.getElementById('game-instruction').classList.add('text-yellow-400', 'font-bold');
                document.getElementById('reset-candle-btn').classList.remove('hidden');
            }
        }

        function resetCandles() {
            candles.forEach(c => {
                c.reignites = Math.floor(Math.random() * 3);
                c.isOff = false;
                const el = document.getElementById('c'+c.id);
                el.querySelector('.flame').classList.remove('off');
                el.querySelector('.smoke').classList.remove('active');
            });
            document.getElementById('reset-candle-btn').classList.add('hidden');
            document.getElementById('game-instruction').innerHTML = "Tiup microphone atau Klik api untuk mematikan!";
            document.getElementById('game-instruction').classList.remove('text-yellow-400', 'font-bold');
        }

        let micActive = false;
        function enableMic() {
            if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {
                navigator.mediaDevices.getUserMedia({ audio: true })
                .then(stream => {
                    micActive = true;
                    const audioContext = new (window.AudioContext || window.webkitAudioContext)();
                    const analyser = audioContext.createAnalyser();
                    const microphone = audioContext.createMediaStreamSource(stream);
                    const javascriptNode = audioContext.createScriptProcessor(2048, 1, 1);
                    analyser.smoothingTimeConstant = 0.8;
                    analyser.fftSize = 1024;
                    microphone.connect(analyser);
                    analyser.connect(javascriptNode);
                    javascriptNode.connect(audioContext.destination);
                    javascriptNode.onaudioprocess = function() {
                        const array = new Uint8Array(analyser.frequencyBinCount);
                        analyser.getByteFrequencyData(array);
                        let values = 0;
                        const length = array.length;
                        for (let i = 0; i < length; i++) { values += array[i]; }
                        const average = values / length;
                        if (average > 40) { 
                            const litCandles = candles.filter(c => !c.isOff);
                            if(litCandles.length > 0) {
                                const target = litCandles[Math.floor(Math.random() * litCandles.length)];
                                blowCandle(target.id);
                            }
                        }
                    }
                    alert("Mikrofon Aktif! Coba tiup lilinnya (ke arah HP/Laptop) ğŸŒ¬ï¸");
                })
                .catch(err => {
                    alert("Gagal akses mikrofon. Pakai klik aja ya! (Mungkin browser memblokir)");
                    console.error(err);
                });
            } else {
                alert("Browser kamu gak support fitur ini. Klik lilin aja ya!");
            }
        }
    </script>
</body>
</html>
